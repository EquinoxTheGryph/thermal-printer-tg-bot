# thermal-printer-tg-bot

A project to control a generic thermal printer module via Telegram. Made in Rust.

## Supported Printers

- EM5820
- ...and probably other printers that support ESC/POS commands

## Installation

- Compile the project
- Create an `.env` file containing the fields as described in `.env.example`
- Create a new Telegram bot via @BotFather
- Paste in the token generated by the bot into the `.env` file
- Retrieve your user ID, put it in the `.env` file
- Connect your printer via Serial
- Enter your serial port into the `.env` file (eg. `/dev/ttyUSB0`)
- Start the executable
- ...
- Profit! (Start sending text, commands, images and stickers to the bot and see it printed out)

## Development (Flakes)

This repo uses [Flakes](https://nixos.asia/en/flakes) from the get-go.

```bash
# Dev shell
nix develop

# or run via cargo
nix develop -c cargo run

# build
nix build
```

We also provide a [`justfile`](https://just.systems/) for Makefile'esque commands to be run inside of the devShell.
